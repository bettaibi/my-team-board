(this["webpackJsonpmy-team-board"]=this["webpackJsonpmy-team-board"]||[]).push([[14],{170:function(e,a,t){"use strict";var r=t(0),n=t(540),s=t(309),c=t(15),i=t(310),o=t(115),l=t(144),d=t(2);a.a=function(e){var a=Object(l.a)(),t=a.show,u=a.handleClose,m=a.handleOpen,j=e.message,p=e.onConfirmClick,b=Object(r.useCallback)((function(){return Object(d.jsxs)(n.a,{open:t,onClose:u,maxWidth:"xs",children:[Object(d.jsxs)(s.a,{dividers:!0,style:{padding:"1.2rem 1rem"},children:[Object(d.jsx)(c.a,{variant:"h6",children:"Confirm"}),Object(d.jsx)("span",{children:j})]}),Object(d.jsxs)(i.a,{children:[Object(d.jsx)(o.a,{size:"small",onClick:u,children:"Close"}),Object(d.jsx)(o.a,{size:"small",variant:"contained",color:"primary",onClick:p,children:"Confirm"})]})]})}),[t,j,u,p]);return{handleClose:u,handleOpen:m,ConfirmDialog:b}}},223:function(e,a,t){"use strict";var r=t(1),n=t(5),s=t(0),c=(t(4),t(40),t(7)),i=t(12),o=t(614),l={small:-16,medium:null},d=s.forwardRef((function(e,a){var t=e.children,i=e.classes,d=e.className,u=e.max,m=void 0===u?5:u,j=e.spacing,p=void 0===j?"medium":j,b=Object(n.a)(e,["children","classes","className","max","spacing"]),h=m<2?2:m,x=s.Children.toArray(t).filter((function(e){return s.isValidElement(e)})),O=x.length>h?x.length-h+1:0,f=p&&void 0!==l[p]?l[p]:-p;return s.createElement("div",Object(r.a)({className:Object(c.a)(i.root,d),ref:a},b),x.slice(0,x.length-O).map((function(e,a){return s.cloneElement(e,{className:Object(c.a)(e.props.className,i.avatar),style:Object(r.a)({zIndex:x.length-a,marginLeft:0===a?void 0:f},e.props.style)})})),O?s.createElement(o.a,{className:i.avatar,style:{zIndex:0,marginLeft:f}},"+",O):null)}));a.a=Object(i.a)((function(e){return{root:{display:"flex"},avatar:{border:"2px solid ".concat(e.palette.background.default),marginLeft:-8,"&:first-child":{marginLeft:0}}}}),{name:"MuiAvatarGroup"})(d)},246:function(e,a,t){"use strict";t(0);var r=t(612),n=t(578),s=t(15),c=t(579),i=t(312),o=t.n(i),l=t(116),d=t(616),u=t(2),m=Object(l.a)((function(e){return Object(d.a)({heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}})}));a.a=function(e){var a=e.label,t=e.description,i=e.children,l=e.isOpen,d=m();return Object(u.jsxs)(r.a,{defaultExpanded:l||!1,children:[Object(u.jsxs)(n.a,{expandIcon:Object(u.jsx)(o.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object(u.jsx)(s.a,{className:d.heading,children:a}),t&&Object(u.jsx)(s.a,{className:d.secondaryHeading,children:t})]}),Object(u.jsx)(c.a,{children:i})]})}},281:function(e,a,t){"use strict";var r=t(1),n=t(5),s=t(0),c=(t(4),t(7)),i=t(15),o=t(12),l=t(174),d=s.forwardRef((function(e,a){var t=e.children,o=e.classes,d=e.className,u=e.component,m=void 0===u?"div":u,j=e.disablePointerEvents,p=void 0!==j&&j,b=e.disableTypography,h=void 0!==b&&b,x=e.position,O=e.variant,f=Object(n.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),v=Object(l.b)()||{},g=O;return O&&v.variant,v&&!g&&(g=v.variant),s.createElement(l.a.Provider,{value:null},s.createElement(m,Object(r.a)({className:Object(c.a)(o.root,d,"end"===x?o.positionEnd:o.positionStart,p&&o.disablePointerEvents,v.hiddenLabel&&o.hiddenLabel,"filled"===g&&o.filled,"dense"===v.margin&&o.marginDense),ref:a},f),"string"!==typeof t||h?t:s.createElement(i.a,{color:"textSecondary"},t)))}));a.a=Object(o.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(d)},309:function(e,a,t){"use strict";var r=t(1),n=t(5),s=t(0),c=(t(4),t(7)),i=t(12),o=s.forwardRef((function(e,a){var t=e.classes,i=e.className,o=e.dividers,l=void 0!==o&&o,d=Object(n.a)(e,["classes","className","dividers"]);return s.createElement("div",Object(r.a)({className:Object(c.a)(t.root,i,l&&t.dividers),ref:a},d))}));a.a=Object(i.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(o)},310:function(e,a,t){"use strict";var r=t(1),n=t(5),s=t(0),c=(t(4),t(7)),i=t(12),o=s.forwardRef((function(e,a){var t=e.disableSpacing,i=void 0!==t&&t,o=e.classes,l=e.className,d=Object(n.a)(e,["disableSpacing","classes","className"]);return s.createElement("div",Object(r.a)({className:Object(c.a)(o.root,l,!i&&o.spacing),ref:a},d))}));a.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(o)},600:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(25),c=t(246),i=t(139),o=t.n(i),l=t(140),d=t(15),u=t(281),m=t(158),j=Object(m.a)(r.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline"),p=Object(m.a)(r.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined"),b=t(145),h=t(146),x=t(142),O=t(53),f=t(147),v=t(182),g=t(211),w=t(2),y=f.a().shape({email:f.c().required("Email is required").email("Invalid Email"),newEmail:f.c().required("Email is required").email("Invalid Email"),password:f.c().required("Password is required").min(6,"too short!")}),E={email:"",newEmail:"",password:""},N=function(){var e=Object(h.a)(),a=e.loading,t=e.onMutate,r=Object(v.a)(),n=r.DialogComponent,c=r.onDialogOpen,i=r.onDialogClose;function m(){return(m=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({url:"/settings/email",method:"PUT",data:a});case 3:e.sent.success&&c(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.b,{initialValues:E,validationSchema:y,onSubmit:function(e){return function(e){return m.apply(this,arguments)}(e)},children:function(e){var t=e.handleChange,r=e.handleSubmit,n=e.handleBlur,c=e.values,i=e.touched,o=e.errors;return Object(w.jsxs)(s.a,{p:2,width:"100%",children:[Object(w.jsx)(d.a,{variant:"h6",className:"bg-text-primary fw-700",gutterBottom:!0,children:"Account"}),Object(w.jsx)(d.a,{variant:"subtitle2",children:"Email Settings"}),Object(w.jsx)(d.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Manage your private information"}),Object(w.jsxs)(b.a,{onSubmit:r,autoComplete:"off",children:[Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{className:"bg-text-secondary",children:"Email Address *"}),Object(w.jsx)(x.a,{fullWidth:!0,placeholder:"Enter your email",variant:"outlined",size:"small",onChange:t,onBlur:n,name:"email",value:c.email,error:i.email&&!!o.email,helperText:i.email&&o.email,InputProps:{startAdornment:Object(w.jsx)(u.a,{position:"start",children:Object(w.jsx)(j,{className:"icons"})})}})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{className:"bg-text-secondary",children:"New Email *"}),Object(w.jsx)(x.a,{fullWidth:!0,placeholder:"Enter a new email",variant:"outlined",size:"small",onChange:t,onBlur:n,name:"newEmail",value:c.newEmail,error:i.newEmail&&!!o.newEmail,helperText:i.newEmail&&o.newEmail,InputProps:{startAdornment:Object(w.jsx)(u.a,{position:"start",children:Object(w.jsx)(p,{className:"icons"})})}})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{className:"bg-text-secondary",children:"Password *"}),Object(w.jsx)(x.a,{fullWidth:!0,type:"password",placeholder:"Enter your password",variant:"outlined",size:"small",onChange:t,onBlur:n,name:"password",value:c.password,error:i.password&&!!o.password,helperText:i.password&&o.password,InputProps:{startAdornment:Object(w.jsx)(u.a,{position:"start",children:Object(w.jsx)(p,{className:"icons"})})}})]}),Object(w.jsx)(s.a,{textAlign:"right",children:Object(w.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",children:a?"Loading...":"Save"})})]})]})}}),Object(w.jsx)(n,{children:Object(w.jsx)(g.a,{onDialogClose:i})})]})},C=f.a().shape({currentPassword:f.c().required("Password is required").min(6,"too short!"),newPassword:f.c().required("Password is required").min(6,"too short!")}),k={currentPassword:"",newPassword:""},S=function(){var e=Object(h.a)(),a=e.loading,t=e.onMutate,r=Object(v.a)(),n=r.DialogComponent,c=r.onDialogOpen,i=r.onDialogClose;function m(){return(m=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({url:"/settings/password",method:"PUT",data:a});case 3:e.sent.success&&c(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.b,{initialValues:k,validationSchema:C,onSubmit:function(e){return function(e){return m.apply(this,arguments)}(e)},children:function(e){var t=e.handleChange,r=e.handleSubmit,n=e.handleBlur,c=e.values,i=e.touched,o=e.errors;return Object(w.jsxs)(s.a,{p:2,width:"100%",children:[Object(w.jsx)(d.a,{variant:"h6",className:"bg-text-primary fw-700",gutterBottom:!0,children:"Security"}),Object(w.jsx)(d.a,{variant:"subtitle2",children:"Change your password"}),Object(w.jsx)(d.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"You can only change your password twice within 24 hours!"}),Object(w.jsxs)(b.a,{onSubmit:r,autoComplete:"off",children:[Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{className:"bg-text-secondary",children:"Current password *"}),Object(w.jsx)(x.a,{fullWidth:!0,type:"password",placeholder:"Enter your password",variant:"outlined",size:"small",onChange:t,onBlur:n,name:"currentPassword",value:c.currentPassword,error:i.currentPassword&&!!o.currentPassword,helperText:i.currentPassword&&o.currentPassword,InputProps:{startAdornment:Object(w.jsx)(u.a,{position:"start",children:Object(w.jsx)(p,{className:"icons"})})}})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{className:"bg-text-secondary",children:"New password *"}),Object(w.jsx)(x.a,{fullWidth:!0,type:"password",placeholder:"Enter your password",variant:"outlined",size:"small",onChange:t,onBlur:n,name:"newPassword",value:c.newPassword,error:i.newPassword&&!!o.newPassword,helperText:i.newPassword&&o.newPassword,InputProps:{startAdornment:Object(w.jsx)(u.a,{position:"start",children:Object(w.jsx)(p,{className:"icons"})})}})]}),Object(w.jsx)(s.a,{textAlign:"right",children:Object(w.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",children:a?"Loading...":"Save"})})]})]})}}),Object(w.jsx)(n,{children:Object(w.jsx)(g.a,{onDialogClose:i})})]})},P=t(3),z=t(543),D=t(614),A=Object(m.a)(r.createElement(r.Fragment,null,r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),r.createElement("circle",{cx:"8",cy:"14",r:"2"}),r.createElement("circle",{cx:"12",cy:"8",r:"2"}),r.createElement("circle",{cx:"16",cy:"14",r:"2"})),"GroupWorkOutlined"),W=t(141),L=t(54),T=t(223),B=t(149),I=t(170),M=t(207),q="https://my-team-board.herokuapp.com/api",V=f.a().shape({name:f.c().required("Name is required")}),H=function(e){var a=e.disabled,t=e.currentWorkspace,r=Object(I.a)({onConfirmClick:function(){return f.apply(this,arguments)},message:"Are you sure you want to delete this Workspace? All related members and projects will be unlikned."}),s=r.ConfirmDialog,c=r.handleOpen,i=r.handleClose,d=Object(h.a)(),u=d.loading,m=d.onMutate,j=Object(v.a)(),p=j.DialogComponent,b=j.onDialogOpen,x=j.onDialogClose;function f(){return(f=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m({url:"/workspace/".concat(t),method:"DELETE"});case 3:e.sent.success&&(i(),localStorage.removeItem("workspace"),setTimeout((function(){b()}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return t?Object(w.jsxs)(n.a.Fragment,{children:[Object(w.jsx)(O.a,{variant:"contained",color:"secondary",onClick:c,style:{marginRight:"0.5rem"},disabled:a,children:u?"Loading...":"Delete"}),Object(w.jsx)(s,{}),Object(w.jsx)(p,{children:Object(w.jsx)(g.a,{onDialogClose:x})})]}):null},R=function(){var e=Object(W.b)(),a=e.selectedWorkspace,t=e.currentUser,r=e.dispatch,n=Object(h.a)(),c=n.loading,i=n.onMutate,m=Object(L.d)((function(e){return e.workspaces})).find((function(e){return e._id===a})),j={name:""},p=!0;function f(){return(f=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!m){e.next=6;break}return e.next=4,i({url:"/workspace/".concat(a),method:"PUT",data:{name:t.name}});case 4:e.sent.success&&(n=Object(P.a)(Object(P.a)({},m),{},{name:t.name}),r(Object(M.d)(n)));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return m&&(j={name:m.name},p=!(m.owner._id===t._id)),Object(w.jsx)(b.b,{initialValues:j,validationSchema:V,onSubmit:function(e){return function(e){return f.apply(this,arguments)}(e)},children:function(e){var t=e.handleChange,r=e.handleSubmit,n=e.handleBlur,i=e.values,o=e.touched,l=e.errors;return Object(w.jsxs)(s.a,{p:2,width:"100%",children:[Object(w.jsx)(d.a,{variant:"h6",className:"bg-text-primary fw-700",gutterBottom:!0,children:"Active Workspace"}),Object(w.jsx)(d.a,{variant:"subtitle2",children:"Workspace Settings"}),Object(w.jsx)(d.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Only workspace's owner is able to update these information."}),Object(w.jsxs)(b.a,{onSubmit:r,autoComplete:"off",children:[Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{className:"bg-text-secondary",children:"Name *"}),Object(w.jsx)(x.a,{disabled:p,fullWidth:!0,placeholder:"Workspace name",variant:"outlined",size:"small",onChange:t,onBlur:n,name:"name",value:i.name,error:o.name&&!!l.name,helperText:o.name&&l.name,InputProps:{startAdornment:Object(w.jsx)(u.a,{position:"start",children:Object(w.jsx)(A,{className:"icons"})})}})]}),Object(w.jsxs)(s.a,{className:"form-group",children:[Object(w.jsx)("label",{className:"bg-text-secondary",children:"Workspace Owner"}),m&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(z.a,{title:m.owner.name,children:Object(w.jsx)(D.a,{alt:"user avatar",src:m.owner.avatar?"".concat(q,"/files/").concat(m.owner.avatar):B.a})})})]}),Object(w.jsxs)(s.a,{className:"form-group",children:[Object(w.jsx)("label",{className:"bg-text-secondary",children:"Workspace members"}),Object(w.jsx)(T.a,{max:6,children:m&&m.members.map((function(e){return Object(w.jsx)(z.a,{title:e.name,children:Object(w.jsx)(D.a,{alt:"member avatar",src:e.avatar?"".concat(q,"/files/").concat(e.avatar):B.a})},e._id)}))})]}),Object(w.jsxs)(s.a,{textAlign:"right",children:[Object(w.jsx)(H,{disabled:p,currentWorkspace:a}),Object(w.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",children:c?"Loading...":"Save"})]})]})]})}})};a.default=function(){return Object(w.jsxs)(s.a,{p:2,children:[Object(w.jsx)(c.a,{label:"Workspace Setting",isOpen:!0,children:Object(w.jsx)(R,{})}),Object(w.jsx)(c.a,{label:"Account Setting",children:Object(w.jsx)(N,{})}),Object(w.jsx)(c.a,{label:"Security",children:Object(w.jsx)(S,{})})]})}}}]);
//# sourceMappingURL=14.4758b8cb.chunk.js.map
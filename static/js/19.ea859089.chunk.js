(this["webpackJsonpmy-team-board"]=this["webpackJsonpmy-team-board"]||[]).push([[19],{169:function(e,t,a){"use strict";var r=a(18),n=(a(0),a(298)),i=a(144),c=a(25),s=a(116),o=a(7),l=a(2),d=Object(s.a)((function(e){var t;return{drawerOpen:(t={},Object(r.a)(t,e.breakpoints.down("xs"),{width:"100%"}),Object(r.a)(t,"width","40%"),t),drawerClose:{width:0}}}));t.a=function(e,t,a){var s=d(),m=Object(i.a)(a||!1),j=m.handleClose,u=m.handleOpen,b=m.show,p=m.toggle;return{onSidenavClose:j,onSidenavOpen:u,onSidenavToggle:p,SidenavComponent:function(a){var i,d,m=a.children;return Object(l.jsx)(n.a,{transitionDuration:{enter:500,exit:1e3},variant:t,anchor:e,open:b,onClose:j,className:Object(o.a)((i={},Object(r.a)(i,s.drawerOpen,b),Object(r.a)(i,s.drawerClose,!b),i)),classes:{paper:Object(o.a)((d={},Object(r.a)(d,s.drawerOpen,b),Object(r.a)(d,s.drawerClose,!b),d))},children:Object(l.jsx)(c.a,{overflow:"hidden",children:m})})},show:b}}},223:function(e,t,a){"use strict";var r=a(1),n=a(5),i=a(0),c=(a(4),a(40),a(7)),s=a(12),o=a(614),l={small:-16,medium:null},d=i.forwardRef((function(e,t){var a=e.children,s=e.classes,d=e.className,m=e.max,j=void 0===m?5:m,u=e.spacing,b=void 0===u?"medium":u,p=Object(n.a)(e,["children","classes","className","max","spacing"]),h=j<2?2:j,O=i.Children.toArray(a).filter((function(e){return i.isValidElement(e)})),x=O.length>h?O.length-h+1:0,f=b&&void 0!==l[b]?l[b]:-b;return i.createElement("div",Object(r.a)({className:Object(c.a)(s.root,d),ref:t},p),O.slice(0,O.length-x).map((function(e,t){return i.cloneElement(e,{className:Object(c.a)(e.props.className,s.avatar),style:Object(r.a)({zIndex:O.length-t,marginLeft:0===t?void 0:f},e.props.style)})})),x?i.createElement(o.a,{className:s.avatar,style:{zIndex:0,marginLeft:f}},"+",x):null)}));t.a=Object(s.a)((function(e){return{root:{display:"flex"},avatar:{border:"2px solid ".concat(e.palette.background.default),marginLeft:-8,"&:first-child":{marginLeft:0}}}}),{name:"MuiAvatarGroup"})(d)},613:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(116),c=a(25),s=a(15),o=a(31),l=a(117),d=a(553),m=a(543),j=a(614),u=a(223),b=a(53),p=a(7),h=a(10),O=a(54),x=a(169),f=a(139),v=a.n(f),g=a(3),y=a(140),w=a(9),C=a(145),N=a(506),k=a(147),S=a(142),B=a(607),T=a(141),E=a(206),z=a(146),L=a(149),W=a(2),A={title:"",description:"",members:[]},D=k.a().shape({title:k.c().required("Title is required"),description:k.c().required("Description is required")}),I=[],R=function(e){var t=e.onSidenavClose,a=Object(O.d)((function(e){return e.members})),r=Object(T.b)(),n=r.dispatch,i=r.selectedWorkspace,o=Object(z.a)(),l=o.loading,d=o.onMutate;function m(){return(m=Object(y.a)(v.a.mark((function e(a,r){var c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(g.a)(Object(g.a)({},a),{},{members:I,workspace:i||""}),e.next=4,d({url:"/projects",method:"POST",data:c});case 4:(s=e.sent).success&&(t(),setTimeout((function(){n(Object(E.b)(s.data))}),0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(W.jsx)(C.b,{initialValues:A,validationSchema:D,onSubmit:function(e,t){return function(e,t){return m.apply(this,arguments)}(e,t.resetForm)},children:function(e){var r=e.handleSubmit,n=e.handleChange,i=e.handleBlur,o=e.values,d=e.errors,m=e.touched;return Object(W.jsxs)(C.a,{onSubmit:r,autoComplete:"off",children:[Object(W.jsxs)(c.a,{style:{backgroundColor:"#f1f5f9",padding:"2.5rem 1rem"},borderBottom:"1px solid #fafafa",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(W.jsx)("div",{}),Object(W.jsxs)(c.a,{children:[Object(W.jsx)(b.a,{className:"bg-text-secondary",onClick:t,variant:"outlined",color:"default",size:"medium",type:"button",children:"Cancel"}),Object(W.jsx)(b.a,{disableElevation:!0,size:"medium",type:"submit",style:{marginLeft:"0.5rem"},variant:"contained",color:"primary",children:l?"Loading...":"Save"})]})]}),Object(W.jsxs)(c.a,{style:{padding:"1rem 1rem 0 1rem"},children:[Object(W.jsx)(s.a,{variant:"h6",gutterBottom:!0,children:"New Project"}),Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{children:"Title"}),Object(W.jsx)(S.a,{fullWidth:!0,name:"title",variant:"outlined",size:"small",placeholder:"project title",onChange:n,onBlur:i,value:o.title,error:m.title&&!!d.title,helperText:m.title&&d.title})]}),Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{children:"Description"}),Object(W.jsx)(S.a,{fullWidth:!0,name:"description",variant:"outlined",size:"small",placeholder:"A short description which explains the project..",onChange:n,onBlur:i,value:o.description,multiline:!0,rows:3,error:m.description&&!!d.description,helperText:m.description&&d.description})]}),Object(W.jsxs)("div",{className:"form-group",children:[Object(W.jsx)("label",{children:"Members"}),Object(W.jsx)(s.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"Only selected members are able to work on this project (you can add them later)"}),Object(W.jsx)(B.a,{onChange:function(e,t){var a;null!==(a=t)&&(I=0===a.length?[]:Object(w.a)(a.map((function(e){return e._id||""}))))},multiple:!0,fullWidth:!0,limitTags:2,clearOnBlur:!0,id:"multiple-limit-tags",options:a,getOptionLabel:function(e){return e.name},defaultValue:[],renderTags:function(e,t){return e.map((function(e,a){return Object(W.jsx)(N.a,Object(g.a)({variant:"default",color:"primary",label:e.name,avatar:Object(W.jsx)(j.a,{alt:"members",src:e.avatar?"".concat("https://my-team-board.herokuapp.com/api","/files/").concat(e.avatar):L.a})},t({index:a})))}))},renderInput:function(e){return Object(W.jsx)(S.a,Object(g.a)({name:"members",variant:"outlined",size:"small",placeholder:"Add members to this project"},e))}})]})]})]})}})},_=a(242),q=a.n(_),P=a(299),J=Object(i.a)((function(e){return{root:{padding:"4rem 1.5rem"},mb:{marginBottom:"2.5rem"},gridContainer:{maxWidth:"768px"},paper:{padding:e.spacing(2),cursor:"pointer",borderRadius:10},separator:{width:"50px",height:"2.6px",margin:"1rem 0",borderRadius:5}}})),M=function(){J();var e=Object(x.a)("right","persistent"),t=e.onSidenavClose,a=e.onSidenavOpen,r=e.SidenavComponent,i=Object(T.b)(),c=!(i.owner===i.currentUser._id);return Object(W.jsxs)(n.a.Fragment,{children:[Object(W.jsx)(P.a,{title:"New Project",text:"Only the owner of the selected workspace has the ability to add or remove projects.",children:Object(W.jsx)("span",{children:Object(W.jsx)(b.a,{disabled:c,onClick:a,variant:"outlined",color:"default",size:"large",className:Object(p.a)("bg-text-secondary"),children:"CREATE NEW PROJECT"})})}),Object(W.jsx)(r,{children:Object(W.jsx)("div",{style:{overflowY:"auto",height:"calc(100% - 56px)",marginTop:"56px"},children:Object(W.jsx)(R,{onSidenavClose:t})})})]})};t.default=function(){var e=Object(O.d)((function(e){return e.projects})),t=J(),a=Object(h.g)();return Object(W.jsxs)(c.a,{className:t.root,overflow:"auto",height:"100%",minHeight:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[Object(W.jsx)(s.a,{align:"center",variant:"h4",className:"bg-text-primary fw-700",gutterBottom:!0,children:"Workspace's projects"}),Object(W.jsx)("div",{className:t.mb,children:Object(W.jsx)(M,{})}),Object(W.jsx)(o.a,{container:!0,spacing:2,className:t.gridContainer,children:e.map((function(e){return Object(W.jsx)(o.a,{item:!0,xs:12,sm:6,md:4,lg:4,onClick:function(){var t;(t=e._id||"")&&a.push("/team/scrumboard/".concat(t))},children:Object(W.jsxs)(l.a,{elevation:3,className:Object(p.a)("bg-white",t.paper),children:[Object(W.jsx)(s.a,{variant:"subtitle1",className:"bg-text-primary text-capitalize",children:e.title}),Object(W.jsx)(s.a,{variant:"subtitle2",component:"strong",color:"textSecondary",gutterBottom:!0,children:e.description.substr(0,90)+".."}),Object(W.jsx)(d.a,{className:t.separator}),Object(W.jsx)(u.a,{max:4,style:{marginBottom:"0.5rem"},children:e.members.map((function(e){return Object(W.jsx)(m.a,{title:e.name,children:Object(W.jsx)(j.a,{alt:"project members",src:e.avatar?"".concat("https://my-team-board.herokuapp.com/api","/files/").concat(e.avatar):L.a})},e._id)}))}),Object(W.jsxs)("div",{children:[Object(W.jsx)("span",{className:"bg-text-secondary",children:"Edited: "}),Object(W.jsx)(q.a,{fromNow:!0,children:e.createdAt})]})]})},e._id)}))}),0===e.length&&Object(W.jsx)(c.a,{mt:4,children:Object(W.jsx)(s.a,{variant:"subtitle1",component:"span",style:{color:"lightgray"},gutterBottom:!0,children:"No projects created yet"})})]})}}}]);
//# sourceMappingURL=19.ea859089.chunk.js.map